<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>La Taverne de Limoges</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Cinzel', serif;
      background: linear-gradient(135deg, #1a1a1a, #3a2a1a);
      color: #f5f5dc;
      text-align: center;
      overflow-x: hidden;
    }

    .container {
      max-width: 900px;
      margin: auto;
      padding: 20px;
    }

    h1 {
      font-size: clamp(24px, 5vw, 36px);
      margin-bottom: 10px;
      color: #ffd700;
      text-shadow: 2px 2px 5px #000;
    }

    .wheel-container {
      position: relative;
      margin: 20px auto;
      width: min(90vw, 500px);
      height: min(90vw, 500px);
    }

    .wheel {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      border: 10px solid #654321;
      position: relative;
      transition: transform 4s cubic-bezier(0.33, 1, 0.68, 1);
      overflow: hidden;
    }

    .pointer {
      position: absolute;
      top: -20px;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 0;
      border-left: 20px solid transparent;
      border-right: 20px solid transparent;
      border-bottom: 40px solid red;
      z-index: 10;
    }

    /* üî• Suppression du rond d√©coratif */
    .pointer::after {
      display: none !important;
    }

    .wheel-center {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: #ffd700;
      border: 5px solid #654321;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .logo-img {
      width: 60px;
      height: 60px;
      border-radius: 50%;
    }

    .controls {
      margin: 20px 0;
    }

    .spin-btn {
      padding: 15px 25px;
      font-size: clamp(14px, 4vw, 18px);
      background: linear-gradient(45deg, #ff0000, #b22222);
      color: white;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: 0.3s;
      font-weight: bold;
      text-transform: uppercase;
    }

    .spin-btn:hover {
      background: linear-gradient(45deg, #b22222, #ff0000);
      transform: scale(1.05);
    }

    .spin-btn:disabled {
      background: gray !important;
      cursor: not-allowed;
      transform: none !important;
    }

    .result {
      margin-top: 20px;
      padding: 15px;
      background: rgba(0, 0, 0, 0.7);
      border: 2px solid #ffd700;
      border-radius: 10px;
      font-size: clamp(14px, 3vw, 18px);
      color: #fff;
      min-height: 50px;
    }

    .contact-btn {
      display: inline-block;
      margin-top: 10px;
      padding: 10px 20px;
      background: #006400;
      color: white;
      text-decoration: none;
      border-radius: 8px;
      transition: 0.3s;
    }

    .contact-btn:hover {
      background: #228B22;
    }

    .contact-info {
      margin-top: 20px;
      padding: 15px;
      background: rgba(255, 215, 0, 0.1);
      border-radius: 10px;
    }

    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      background: #ff4444;
      color: white;
      padding: 15px 20px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.5);
      animation: slideIn 0.5s ease, fadeOut 0.5s ease 2.5s forwards;
      z-index: 1000;
    }

    @keyframes slideIn {
      from { transform: translateX(120%); }
      to { transform: translateX(0); }
    }

    @keyframes fadeOut {
      to { opacity: 0; transform: translateX(120%); }
    }

    .mystic-particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      overflow: hidden;
      z-index: -1;
    }

    .particle {
      position: absolute;
      background: rgba(255, 215, 0, 0.7);
      border-radius: 50%;
      animation: floatUp 5s linear infinite;
    }

    @keyframes floatUp {
      from { transform: translateY(100vh) scale(0); opacity: 1; }
      to { transform: translateY(-10vh) scale(1); opacity: 0; }
    }
  </style>
</head>
<body>
  <!-- Effets mystiques -->
  <div class="mystic-particles" id="mysticParticles"></div>

  <div class="container">
    <h1>La Taverne de Limoges</h1>
    
    <div class="wheel-container">
      <div class="pointer"></div>
      <div class="wheel" id="wheel"></div>
      <div class="wheel-center">
        <img src="data:image/svg+xml;base64,..." alt="Le Juste Prix" class="logo-img">
      </div>
    </div>

    <div class="controls">
      <button class="spin-btn" id="spinBtn" onclick="spinWheel()">
        JE TENTE MA CHANCE
      </button>
    </div>

    <div class="result" id="result">
      <p>‚ú® Tournez la roue et d√©couvrez si la chance vous sourit ! ‚ú®</p>
    </div>

    <div class="contact-info">
      <h4>üèÜ Et si je gagne ?</h4>
      <p>üìú Capturez votre victoire et contactez le support ! üìú</p>
    </div>
  </div>

  <script>
    const prizes = [
      "5G OFFERT", "PERDU", "PERDU", "PERDU", "PERDU", "PERDU",
      "1KG", "PERDU", "PERDU", "PERDU", "CIGARETTE", "PERDU"
    ];

    const wheel = document.getElementById("wheel");
    const spinBtn = document.getElementById("spinBtn");
    const result = document.getElementById("result");
    const numSegments = prizes.length;
    const anglePerSegment = 360 / numSegments;
    let isSpinning = false;
    let hasPlayed = false;

    function createWheel() {
      for (let i = 0; i < numSegments; i++) {
        const segment = document.createElement("div");
        segment.className = "segment";
        segment.style.position = "absolute";
        segment.style.width = "50%";
        segment.style.height = "50%";
        segment.style.background = i % 2 === 0 ? "#ffd700" : "#daa520";
        segment.style.transformOrigin = "100% 100%";
        segment.style.transform = `rotate(${i * anglePerSegment}deg) skewY(${90 - anglePerSegment}deg)`;
        segment.style.clipPath = "polygon(100% 100%, 0 100%, 100% 0)";
        segment.style.display = "flex";
        segment.style.alignItems = "center";
        segment.style.justifyContent = "center";
        segment.innerHTML = `<span style="transform: skewY(${-(90 - anglePerSegment)}deg) rotate(${anglePerSegment/2}deg); font-size: clamp(10px, 2vw, 14px); font-weight: bold; color: black;">${prizes[i]}</span>`;
        wheel.appendChild(segment);
      }
    }

    createWheel();

    function spinWheel() {
      if (isSpinning || hasPlayed) return;

      isSpinning = true;
      hasPlayed = true;

      spinBtn.disabled = true;
      spinBtn.textContent = 'üå™Ô∏è LA ROUE TOURNE... üå™Ô∏è';

      const losingIndexes = [1, 2, 3, 4, 5, 7, 8, 9, 11];
      const losingIndex = losingIndexes[Math.floor(Math.random() * losingIndexes.length)];

      const targetAngle = (losingIndex * anglePerSegment) + (anglePerSegment / 2);
      const randomSpins = 4 + Math.floor(Math.random() * 3);
      const finalRotation = (randomSpins * 360) + (360 - targetAngle);

      wheel.style.transform = `rotate(${finalRotation}deg)`;

      setTimeout(() => {
        const winningPrize = prizes[losingIndex];

        result.innerHTML = `
          <div>
            <h3>‚öîÔ∏è Peut √™tre la prochaine fois ! ‚öîÔ∏è</h3>
            <p style="font-size: clamp(16px, 4vw, 18px); margin: 8px 0; color: #ff6b6b;"><strong>${winningPrize}</strong></p>
            <p style="font-size: clamp(12px, 3vw, 14px); opacity: 0.9; margin-bottom: 12px;">La chance ne vous sourit pas aujourd'hui !</p>
            <a href="https://t.me/lejusteprixch" target="_blank" class="contact-btn">üè∞ Contacter le support</a>
          </div>
        `;

        showAlmostWonNotification();

        isSpinning = false;
        spinBtn.disabled = true;
        spinBtn.textContent = 'VOUS AVEZ D√âJ√Ä SAISIT VOTRE CHANCE';
        spinBtn.style.opacity = '0.6';
      }, 4000);
    }

    function showAlmostWonNotification() {
      const notification = document.createElement("div");
      notification.className = "notification";
      notification.textContent = "üíÄ Vous √©tiez si proche... retentez une autre fois !";
      document.body.appendChild(notification);

      setTimeout(() => {
        notification.remove();
      }, 3000);
    }

    // Effets mystiques
    function createParticles() {
      const container = document.getElementById("mysticParticles");
      for (let i = 0; i < 30; i++) {
        const particle = document.createElement("div");
        particle.className = "particle";
        particle.style.width = `${Math.random() * 8 + 2}px`;
        particle.style.height = particle.style.width;
        particle.style.left = `${Math.random() * 100}vw`;
        particle.style.animationDuration = `${3 + Math.random() * 5}s`;
        particle.style.background = Math.random() > 0.5 ? "rgba(255, 215, 0, 0.7)" : "rgba(255, 69, 0, 0.7)";
        container.appendChild(particle);
      }
    }

    createParticles();

    // Responsive ajustement
    window.addEventListener("resize", () => {
      document.querySelectorAll(".segment span").forEach(span => {
        span.style.fontSize = `clamp(10px, ${2 / window.innerWidth * 100}vw, 14px)`;
      });
    });
  </script>
</body>
</html>
